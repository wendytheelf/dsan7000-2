# ---- Canonical label ----
allowed_classes:
  - Foundation_Slab
  - Foundations_Piles+Footings
  - Slabs
  - Columns (Concrete)
  - Beam (Concrete)
  - Floors
  - Roof
  - Ceilings
  - External walls (façade)
  - Internal walls
  - Doors
  - Windows
  - Leveling_Morter
  - Column (Steel)
  - Beam (Steel)
  - Plinth Beam
  - Puddle_Pipes
  - Registros/Box
  - Reinforcing_Steel
  - Down pipe, collectors (stormwater)
  - Inspection covers
  - Cable Tray
  - Cable Tray fittings
  - Piping
  - Piping fittings
  - Manhole
  - Base_Plate
  - Structural_Stinfners
  - Shear_Key
  - Bracket
  - Post_Tensioning
  - Stairs
  - Railings
  - Curtain Panels
  - Wall sweeps
  - Evacuation signs
  - Lighting Fixture
  - Switch (various types)
  - Emergency lighting
  - Conduit
  - Conduit fittings
  - Valves
  - Blindings
  - Sockets
  - Air Terminals / Grilles
  - Dampers
  - Flexible duct
  - Sprinkler
  - Extinguishers
  - Hose reel
  - Hydrant
  - Call Point
  - Detector
  - Fire Alarm Control panel
  - Audible/visual discharge alarm
  - Cameras
  - Electric Boiler
  - Sink

# ---- IFC to Canonical Mapping (basic mapping; detailed classification via keyword/PredefinedType) ----
ifc_to_canonical:
  IfcSlab: Slabs
  IfcRoof: Roof
  IfcCovering: Ceilings    # If PredefinedType=CEILING → Ceilings; if=FLOORING → Floors (see heuristic)
  IfcWall: Internal walls  # External/Internal walls adjusted by name keywords
  IfcDoor: Doors
  IfcWindow: Windows
  IfcColumn: Columns (Concrete)    # Further classification by keywords to determine Steel/Concrete
  IfcBeam: Beam (Concrete)
  IfcRailing: Railings
  IfcStair: Stairs
  IfcCurtainWall: Curtain Panels
  IfcFlowTerminal: Sink            # Contains various terminal components, classified by name (Sink, Hose reel, etc.)
  IfcSanitaryTerminal: Sink
  IfcBoiler: Electric Boiler
  IfcSpace: Floors                 # Some models use Space for floor finish, temporarily mapped to Floors
  IfcPlate: Base_Plate
  IfcMember: Reinforcing_Steel
  IfcCableCarrierSegment: Cable Tray
  IfcCableCarrierFitting: Cable Tray fittings
  IfcCableSegment: Conduit
  IfcCableFitting: Conduit fittings
  IfcPipeSegment: Piping
  IfcPipeFitting: Piping fittings
  IfcDuctSegment: Flexible duct
  IfcDuctFitting: Flexible duct
  IfcAirTerminal: Air Terminals / Grilles
  IfcDamper: Dampers
  IfcValve: Valves
  IfcFireSuppressionTerminal: Sprinkler   # Further classification by name to determine Extinguishers/Hose reel/Hydrant, etc.
  IfcLightFixture: Lighting Fixture
  IfcLamp: Emergency lighting
  IfcSwitchingDevice: Switch (various types)
  IfcOutlet: Sockets
  IfcAlarm: Audible/visual discharge alarm
  IfcSensor: Detector
  IfcElectricAppliance: Cameras

# ---- Keyword Overrides (for mock/LLM classification; overrides basic mapping if matched) ----
keyword_overrides:
  # Walls
  External walls (façade): ["external", "façade", "facade", "exterior", "外牆"]
  Internal walls: ["internal", "partition", "內牆"]

  # Slabs/Floors/Foundations
  Foundation_Slab: ["foundation slab", "raft", "mat foundation", "基礎板", "base slab"]
  Floors: ["flooring", "finish floor", "地坪", "floor"]
  Roof: ["roof", "roof slab"]

  # Material Classification
  Columns (Concrete): ["concrete column", "rc column", "柱(混凝土)"]
  Column (Steel): ["steel column", "h-beam column", "柱(鋼)"]
  Beam (Concrete): ["concrete beam", "rc beam", "梁(混凝土)"]
  Beam (Steel): ["steel beam", "h-beam", "梁(鋼)"]

  # MEP
  Flexible duct: ["flex duct", "flexible duct"]
  Sprinkler: ["sprinkler"]
  Extinguishers: ["extinguisher"]
  Hose reel: ["hose reel"]
  Hydrant: ["hydrant"]
  Sink: ["sink", "basin"]
  Electric Boiler: ["electric boiler", "boiler (electric)"]
  Valves: ["valve"]
  Air Terminals / Grilles: ["grille", "diffuser", "register"]
  Cable Tray: ["cable tray"]
  Cable Tray fittings: ["tray fitting"]
  Conduit: ["conduit"]
  Conduit fittings: ["conduit fitting"]
  Piping: ["pipe segment", "pipe"]
  Piping fittings: ["elbow", "tee", "pipe fitting"]
  Detector: ["smoke detector", "heat detector", "detector"]
  Fire Alarm Control panel: ["fire alarm control panel", "f.a. panel", "fap"]
  Audible/visual discharge alarm: ["strobe", "sounder", "horn", "buzzer"]
  Cameras: ["camera", "cctv"]


# ---- Keyword validation rules (for consistency checking) ----
# These rules are used to validate that entity names/properties match expected keywords
# Format: {class: {any: [required_keywords], none: [forbidden_keywords]}}
keyword_validation:
  Pump:
    any: ["pump"]
    none: ["valve", "radiator"]
  
  Valve:
    any: ["valve"]
    none: ["pump"]
  
  Wall:
    any: ["wall"]
    none: ["beam", "column"]
  
  Beam:
    any: ["beam"]
    none: ["wall"]
